(this["webpackJsonpreact-boilerplate-material"]=this["webpackJsonpreact-boilerplate-material"]||[]).push([[9],{376:function(e,t,n){"use strict";var a=n(35),r=n(0),c=n(160),i=n.n(c),s=n(117);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"300",o=Object(r.useState)(null),u=Object(a.a)(o,2),l=u[0],d=u[1],h=Object(r.useState)(!1),p=Object(a.a)(h,2),j=p[0],m=p[1];return Object(r.useEffect)((function(){var a=i.a.CancelToken.source(),r=null;return m(!0),s.a.get(e,{url:e,params:t,showSpinner:n,cancelToken:a.token}).then((function(e){r=setTimeout((function(){m(!1),d(e.data)}),c)})).catch((function(e){i.a.isCancel(e)||m(!1)})),function(){a.cancel(),r&&clearTimeout(r)}}),[e]),{data:l,showLoading:j}}},377:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(384),r=(n(0),n(378),n(2)),c=["value","onChange","name","url"],i=function(e){var t=e.value,n=e.onChange,i=e.name,s=e.url;Object(a.a)(e,c);return Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsx)("input",{id:i,name:i,onChange:n,type:"file",hidden:!0,accept:"image/*"}),Object(r.jsx)("div",{children:Object(r.jsx)("label",{htmlFor:i,children:Object(r.jsx)("div",{className:"preview-img",children:t?Object(r.jsx)("img",{alt:"preview-image",width:"100%",height:"100%",src:s}):Object(r.jsx)("div",{className:"preview-label",children:"+"})})})})]})}},378:function(e,t,n){},390:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(14),r=n.n(a),c=n(23),i=n(117),s=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("/product/get-all-product",{showSpinner:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post("/product/add-product",t,{showSpinner:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.patch("/product/set-hot/".concat(t),{},{showSpinner:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.put("/product/update-product/".concat(t),n,{showSpinner:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.delete("/product/".concat(t),{showSpinner:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},402:function(e,t){},878:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var a=n(14),r=n.n(a),c=n(23),i=n(37),s=n(8),o=n(35),u=n(0),l=n(389),d=n(856),h=n(860),p=n(365),j=n(859),m=n(889),b=n(359),f=n(376),O=n(390),v=n(19),g=n(40),x=n(377),w=n(407),y=n.n(w),k="sgp1",C=new y.a.Endpoint("".concat(k,".digitaloceanspaces.com")),S=function(e){"https://".concat("hoangnguyen147",".").concat(k,".digitaloceanspaces.com/").concat(e.path);var t=new y.a.S3({endpoint:C,accessKeyId:"WJAVXIABARIJJ75WLHIY",secretAccessKey:"SpWH8fnwrKxGjmO/J6GWf/x1MgreylAX69nldf2wcRg"}),n=(new Date).getTime().toString(),a={Body:JSON.stringify(e.stream),Bucket:"hoangnguyen147",Key:n};t.putObject(a).on("build",(function(t){t.httpRequest.headers.Host="https://sgp1.digitaloceanspaces.com",t.httpRequest.headers["Content-Length"]=e.size,t.httpRequest.headers["Content-Type"]=e.mimetype,t.httpRequest.headers["x-amz-acl"]="public-read",t.httpRequest.headers["Access-Control-Allow-Origin"]="*"})).send((function(e,t){console.log(t),console.log(e)}))},T=(new y.a.S3({}),n(143)),W=n(2);var R=function(){var e=Object(f.a)("/category",{},!0,0).data,t=Object(v.b)(),n=Object(u.useState)({name:"",category_id:"",image:"",price:"",quantity:"",vote:""}),a=Object(o.a)(n,2),w=a[0],y=a[1],k=Object(u.useState)(!1),C=Object(o.a)(k,2),R=C[0],q=C[1],A=function(e){var t=e.target;y(Object(s.a)(Object(s.a)({},w),{},Object(i.a)({},t.name,t.value)))},N=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!(null===(n=t.currentTarget)||void 0===n?void 0:n.files[0])){e.next=9;break}return a=n.files[0],e.next=6,S(a);case 6:(c=new FileReader).onloadend=function(){y(Object(s.a)(Object(s.a)({},w),{},{image:c.result}))},c.readAsDataURL(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.d)(w);case 3:n=e.sent,t(Object(g.a)({key:(new Date).getTime()+3e3,message:"Th\xeam s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng",variant:"success"})),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(l.a,{container:!0,alignItems:"center",children:Object(W.jsx)(l.a,{item:!0,sm:12,children:Object(W.jsx)("h2",{children:"Th\xeam s\u1ea3n ph\u1ea9m"})})}),Object(W.jsx)(l.a,{children:Object(W.jsx)("h3",{children:"Th\xf4ng tin s\u1ea3n ph\u1ea9m"})}),Object(W.jsx)("br",{}),Object(W.jsxs)(l.a,{container:!0,spacing:2,children:[Object(W.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(W.jsx)(d.a,{name:"name",value:w.name,onChange:A,fullWidth:!0,variant:"outlined",label:"T\xean"})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(W.jsxs)(j.a,{variant:"outlined",fullWidth:!0,children:[Object(W.jsx)(h.a,{id:"demo-simple-select-outlined-label",children:"Nh\xf3m s\u1ea3n ph\u1ea9m"}),Object(W.jsx)(m.a,{name:"category_id",value:w.category_id,onChange:function(e){var t=e.target;y(Object(s.a)(Object(s.a)({},w),{},Object(i.a)({},t.name,t.value)))},labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Nh\xf3m s\u1ea3n ph\u1ea9m",fullWidth:!0,children:null===e||void 0===e?void 0:e.map((function(e){return Object(W.jsx)(p.a,{value:e.id,children:e.name},e.id)}))})]})})]}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),Object(W.jsxs)(l.a,{container:!0,spacing:2,children:[Object(W.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(W.jsx)(d.a,{name:"price",value:w.price,onChange:A,type:"number",fullWidth:!0,variant:"outlined",label:"Gi\xe1"})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(W.jsx)(d.a,{name:"quantity",value:w.quantity,onChange:A,type:"number",fullWidth:!0,variant:"outlined",label:"S\u1ed1 l\u01b0\u1ee3ng"})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:12,children:Object(W.jsx)(d.a,{name:"overview",value:w.overview,onChange:A,type:"text",fullWidth:!0,variant:"outlined",label:"T\xednh n\u0103ng",multiline:!0,rows:3,maxRows:10})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:12,children:Object(W.jsx)(T.a,{style:{padding:"10px 4px",cursor:"pointer",display:"inline-block"},variant:"h6",color:"textPrimary",onClick:function(){return y(Object(s.a)(Object(s.a)({},w),{},{image:""})),void q(!R)},children:"Th\xeam h\xecnh \u1ea3nh"})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:12,className:"my-10",children:R?Object(W.jsx)(d.a,{name:"image",value:w.image,onChange:A,fullWidth:!0,id:"uri",label:"H\xecnh \u1ea3nh",variant:"outlined"}):Object(W.jsx)(x.a,{name:"category_image_field",value:w.image,url:w.image,onChange:N})}),Object(W.jsx)("br",{}),Object(W.jsx)(l.a,{container:!0,justify:"flex-end",className:"my-20",children:Object(W.jsx)(b.a,{onClick:function(){return y({name:"",category_id:"",image:"",price:"",quantity:"",overview:""})},color:"primary",children:"Add More"})}),Object(W.jsxs)(l.a,{container:!0,item:!0,sm:12,md:12,justify:"flex-end",children:[Object(W.jsx)(b.a,{variant:"outlined",color:"primary",className:"mr-20",children:"Cancel"}),Object(W.jsx)(b.a,{onClick:function(){return J()},color:"primary",variant:"contained",children:"Submit"})]})]})]})}}}]);